#!/usr/bin/env sh
# shellcheck disable=SC1003

set -eou pipefail

if [ -n "${TMUX:-}" ]; then
    printf '\033Ptmux;\033\033]52;c;%s\033\033\\\033\\' "$(base64 | tr -d '\n')"
else
    printf '\033]52;c;%s\033\\' "$(base64 | tr -d '\n')"
fi

# if [[ "$(uname)" == "Darwin" ]]; then
#     export COPY_CMD="pbcopy"
# elif [[ "$(uname -r)" =~ "[Mm]icrosoft" ]]; then
#     export COPY_CMD="clip.exe"
# elif [[ "$XDG_SESSION_TYPE" == "wayland" ]]; then
#     export COPY_CMD="wl-copy"
# else
#     export COPY_CMD="xclip -selection clipboard -i"
# fi
# alias copy="$COPY_CMD"
#
