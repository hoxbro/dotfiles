# Autostart
exec-once = waybar
exec-once = hyprpaper
exec-once = hypridle
exec-once = walker --gapplication-service
exec-once = mako

exec-once = librewolf
exec-once = ghostty
exec-once = 1password
exec-once = betterbird
exec-once = clockify
exec-once = spotify
exec-once = ferdium

exec = sleep 5 && hyprctl keyword misc:focus_on_activate true

# Layout
general {
    gaps_in = 0
    gaps_out = 0
    border_size = 1

    col.active_border = rgba(90a0bfee)
    col.inactive_border = rgba(595959aa)

    resize_on_border = true
    allow_tearing = false
    layout = dwindle
}

xwayland {
    force_zero_scaling = true
}

decoration {
    rounding = 4
    active_opacity = 1.0
    inactive_opacity = 1.0

    shadow {
        enabled = false
    }

    blur {
        enabled = false
    }
}

animations {
    enabled = no
}

dwindle {
    pseudotile = true
    preserve_split = true
}

master {
    new_status = master
}

misc {
    force_default_wallpaper = 0
    disable_hyprland_logo = true
    focus_on_activate = false
}


# Devices
monitor=,preferred,auto,$HYPR_SCALE

input {
    kb_layout = us,dk
    kb_variant =
    kb_model =
    kb_options=grp:win_space_toggle,ctrl:nocaps

    follow_mouse = 1
    sensitivity = 0
    touchpad:natural_scroll = true
}

gestures {
    gesture = 3, horizontal, workspace
}

device {
    name = epic-mouse-v1
    sensitivity = -0.5
}

# Keybindings
# bind = SUPER, t, exec, ghostty
bind = SUPER, q, killactive,
# bind = SUPER, l, exit,
# bind = SUPER, E, exec, nemo
# bind = SUPER, w, exec, librewolf
bind = SUPER, V, togglefloating,
# bind = SUPER, P, pseudo, # dwindle
# bind = SUPER, J, togglesplit, # dwindle
bind = SUPER, escape, exec, hyprlock
# bind = SUPER,m,fullscreen
bind = SUPER, Tab, focuswindow, floating
bind = SUPER SHIFT, Tab, focuswindow, floating, prev
bindl = , 66, exec, walker

# bind = SUPER, left, movefocus, l
# bind = SUPER, right, movefocus, r
# bind = SUPER, up, movefocus, u
# bind = SUPER, down, movefocus, d
bind = SUPER, h, movefocus, l
bind = SUPER, l, movefocus, r
bind = SUPER, k, movefocus, u
bind = SUPER, j, movefocus, d

bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER, 6, workspace, 6
bind = SUPER, 7, workspace, 7
bind = SUPER, 8, workspace, 8
bind = SUPER, 9, workspace, 9
bind = SUPER, 0, workspace, 10

bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5
bind = SUPER SHIFT, 6, movetoworkspace, 6
bind = SUPER SHIFT, 7, movetoworkspace, 7
bind = SUPER SHIFT, 8, movetoworkspace, 8
bind = SUPER SHIFT, 9, movetoworkspace, 9
bind = SUPER SHIFT, 0, movetoworkspace, 10
# bind = SUPER SHIFT, l, movetoworkspace, e+1
# bind = SUPER SHIFT, h, movetoworkspace, e-1

bind = SUPER, S, togglespecialworkspace, password
# bind = SUPER SHIFT, S, movetoworkspace, special:password
bind = SUPER, M, togglespecialworkspace, music
bind = SUPER, w, togglespecialworkspace, work
bind = SUPER, z, togglespecialworkspace, zoom

bind = SUPER, mouse_down, workspace, e+1
bind = SUPER, mouse_up, workspace, e-1

bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow

bindel = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindel = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindel = , XF86MonBrightnessUp, exec, brightnessctl s 10%+
bindel = , XF86MonBrightnessDown, exec, brightnessctl s 10%-

bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous

bind = SUPER, p, exec, playerctl play-pause
bind = SUPER SHIFT, p, exec, ~/bin/headphone-reconnect
bind = SUPER SHIFT, e, exec, curl 10.0.1.2:8000/elgato/switch -X POST
bind = SUPER, SEMICOLON, exec, walker -m clipboard
bind = , PRINT, exec, ~/bin/walker/screen "Screenshot | Full"
bind = SHIFT, PRINT, exec, ~/bin/walker/screen

# Window rules

windowrule = suppress_event maximize, match:class .*
windowrule = no_focus on, match:class ^$, match:title ^$, match:xwayland 1, match:float 1, match:fullscreen 0, match:pin 0

windowrule = workspace 1, match:class ^(?i)(com.mitchellh.ghostty)$
windowrule = workspace 2, match:class ^(?i)(librewolf)$
windowrule = workspace 3, match:class ^(?i)(ferdium)$
windowrule = workspace 4, match:class ^(?i)(virt-manager)$
windowrule = workspace 5, match:class ^(?i)(parsecd)$

$work_width = monitor_w*0.15*$HYPR_SCALE
windowrule = workspace special:work silent, match:class ^(?i)(clockify|eu.betterbird.Betterbird)$
windowrule = match:class ^(?i)(clockify)$, float on, size $work_width (monitor_h-28), move 2 28
windowrule = match:class ^(?i)(eu.betterbird.Betterbird)$, float on, size (monitor_w-$work_width-4) (monitor_h-28), move ($work_width+4) 28

windowrule = workspace special:music silent, match:class ^(?i)(spotify)$
windowrule = workspace special:password silent, match:class ^(?i)(1password)$
windowrule = workspace special:zoom, match:class ^(?i)(zoom)$
